<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Invite</title>
    <style>
      body {
        background-color: #2a2d54;
        font-family: "Nunito Sans", sans-serif;
      }

      #video-container {
        position: relative;
        max-width: 530px;
        margin: auto;
      }

      #video {
        width: 100%;
      }

      #paper {
        background-color: white;
        display: none;
        left: 4%;
        min-height: calc(100% - 38.2%);
        position: absolute;
        top: calc(100% - 63%);
        transition: height 0.5s ease;
        width: calc(100% - 8%);
      }

      #envelopeTop {
        height: 1px;
        left: 4%;
        position: absolute;
        top: calc(100% - 83%);
        width: calc(100% - 8%);
      }

      .purple-gradient {
        background-image: linear-gradient(to right, #2a2d54 0%, #504390 100%);
      }
    </style>
  </head>
  <body class="purple-gradient">
    <div id="video-container">
      <video id="video" autoplay playsinline muted>
        <source src="video/envelope.mp4" type="video/mp4" />
        <source src="video/envelope.webm" type="video/webm" />
      </video>
      <div id="envelopeTop"></div>
      <div id="paper" hidden>
        <p>
          Blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
        </p>

        <p>
          Blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
        </p>

        <p>
          Blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
          blah blah blah blah blah blah blah blah blah blah blah blah blah blah
        </p>
      </div>
    </div>

    <script>
      (() => {
        const video = document.querySelector("video");
        const paper = document.querySelector("#paper");
        const envelopeTop = document.querySelector("#envelopeTop");

        video.addEventListener("ended", () => {
          fadeInContent(paper, envelopeTop);
        });

        function fadeInContent(paper, envelopeTop) {
          paper.style.display = "block";
          envelopeTop.scrollIntoView({ behavior: "smooth" });
        }

        window.addEventListener("pagehide", () => {
          sessionStorage.setItem("refreshOnReturn", true);
        });

        window.addEventListener("pageshow", () => {
          const refreshOnReturn = sessionStorage.getItem("refreshOnReturn")
            ? true
            : false;
          if (refreshOnReturn) {
            window.location.reload();
          }
        });
      })();
    </script>
  </body>
</html>
